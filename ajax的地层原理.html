<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ajax</title>
</head>
<!-- 
    
    ajax的 
promise函数对象中then方法返回的promis对象
then的链式调用


-->

<body>
    <script>

        ///请求一个接口
        // 1.建立连接，请求成功
        //2.确定请求方法 ，get,post,put,delete
        ///3.参数的设置
        //4.确定是否成功和失败，以及报错



        //1.创建对象，创建链接XMLHttpRequest
        const xhr = new XMLHttpRequest()
        //确定请求方法
        xhr.open('get', 'http://wwwbaidu.com')
        //请求参数 
        xhr.send()

        //绑定事件
        xhr.onreadystatechange = function () {
            //判断状态码 200-299
            if (xhr.readyState == 4) {
                //表示成功
                if (xhr.status >= 200 && xhr.status < 300) {
                    resolve(xhr.response)
                } else {
                    //失败
                    reject(xhr.status)
                }
            }
        }
    </script>
</body>

</html>